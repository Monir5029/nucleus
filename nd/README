- Install sparsehash library to compile the code, https://code.google.com/p/sparsehash/.

- Edit makefile to point to sparsehash library

- 'make' to compile

- './nucleus <graph> <algorithm> <hierarchy?>' to run;
		 <graph> is the input graph in matrix market (.mtx or .txt suffix) [1], SNAP [2] (out. prefix) or Chaco [3] (.graph suffix) format. It can be a binary file as well (See [4])
		 <algorithm> can be 12, 13, 14, 23, or 34. First digit is the r value and second digit is the s value for (r,s)-nucleus decomposition. 12 is k-core, 23 is k-truss with triangle connectivity
		 <hierarchy> is YES or NO. YES computes the hierarchy, subgraphs, and densities. NO computes only K values.

- When <hierarchy> is YES, there are 2 output files
		- <graph>_<algorithm>_Hierarchy: Runtimes, statistics, and significantly dense subgraphs, i.e., subgraph is a leaf, its size is larger or equal to LOWERBOUND (set to 0 in main.h), and its density is at least THRESHOLD value (set to 0.0 in main.h)
		- <graph>_<algorithm>_NUCLEI: Each line is a nucleus, first 6 numbers are subgraph id, K value, |V|, |E|, edge density, and 1 (0) if the nucleus is (not) a leaf in the hierarchy


- In the *-Hierarchy file, "7: K: 1 |V|: 112 |E|: 425 ed: 0.06837 pr: 49 (LEAF)" means the nucleus with id 7 has K value of 1, and it has 112 vertices, 425 edges with 0.06837 edge density. It's a leaf in the hierarchy and its parent is the nucleus with the id of 49.

- Please cite those papers if you use the code:

    "Finding the Hierarchy of Dense Subgraphs using Nucleus Decompositions"
	A. E. Sariyuce, C. Seshadhri, A. Pinar, U. V. Catalyurek
	International World Wide Web Conference (WWW), 2015.

    "Fast Hierarhcy Construction for Dense Subgraphs"
	A. E. Sariyuce, A. Pinar
	Very Large Data Bases Conference (VLDB), 2017	

- Contact a.erdemsariyuce@gmail.com for any questions/comments
    

    
    

[1] Matrix market has ".txt" or ".mtx" suffix. Its format for a 4 clique:
% First line is |V|, |E|
4 6
0 1
0 2
0 3
1 2
1 3
2 3

[2] SNAP format has "out." prefix. Its format for a 4 clique:

0 1
0 2
0 3
1 2
1 3
2 3

[3] Chaco format has ".graph" suffix. Its format for a 3 clique:
% First line is |V|, |E|
% n-th line is a neighbor list of the vertex with id n-2
1 2 3
0 2 3
0 1 3
0 1 2

[4] Activate WRITE_BINARY macro in graph.cpp to write binary graph files with ".bin" suffix -- recommended for large graphs

    